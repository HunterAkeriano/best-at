import{G as T,r as c,ah as B,v as C,o as l,c as D,b as s,i as _,h as m,u as N,e as p,w as v,k as f,m as r,q as d,K as E,B as V,s as o,j as g}from"./index-a2d09072.js";import{B as P,T as H}from"./Teacher-30d5528d.js";import{s as I}from"./StateCourse-128dc4dc.js";import"./TheSelect-6523c9b9.js";const j={class:"course-create"},q={class:"container"},A=s("div",{class:"course-create__links"},[s("p",null,"Главная"),s("span",null,"/"),s("p",null,"Создание группового урока")],-1),G=s("div",{class:"course-create__title"},[s("h4",null,"Создание группового урока")],-1),K={class:"course-create__wrapper",style:{"margin-top":"25px"}},M={class:"course-create__btn",style:{display:"flex","margin-top":"40px","padding-bottom":"50px"}},J={__name:"Create",setup(R){const i=T(),S=I(),u=c([]);async function y(){(await r(d(o,"publishedTeachers"))).forEach(t=>{u.value.push({id:S.teacher.length,title:t.data().nameUser})})}const n=B();async function x(){(await r(d(o,"publicStudentData"))).forEach(t=>{n.student.push({name:t.data().name,email:t.data().email})})}const h=c([]);async function b(){(await r(d(o,"lessons"))).forEach(t=>{h.value.push({id:t.data().about})})}C(()=>{n.student=[],n.students=[],y(),x(),b()});function w(a){e.value.teachers=a}function k(){i.push("/")}const e=c({name:"",teachers:0,dateLessons:"",datePeriod:["",""],lessonsStart:0,lessonsTime:0,priceLessons:"",minStudent:"",lvlStudent:0,yearsStudent:0,about:"",maxStudent:""});async function L(){const a="lessons-"+Date.now(),t={id:a,idx:h.value.length,name:e.value.name,teachers:e.value.teachers,dateLessons:e.value.dateLessons,datePeriod:e.value.datePeriod,lessonsStart:e.value.lessonsStart,lessonsTime:e.value.lessonsTime,priceLessons:e.value.priceLessons,minStudent:e.value.minStudent,lvlStudent:e.value.lvlStudent,yearsStudent:e.value.yearsStudent,about:e.value.about,maxStudent:e.value.maxStudent,users:n.students};await E(V(o,"lessons",a),t),i.push("/")}return(a,t)=>(l(),D("div",j,[s("div",q,[A,G,s("div",K,[u.value.length>0?(l(),_(P,{key:0,data:e.value,teached:u.value},null,8,["data","teached"])):m("",!0),N(n).student.length>0?(l(),_(H,{key:1,onActiveTeacher:w,style:{height:"681px"}})):m("",!0)]),s("div",M,[p(f,{width:200,padding:15,lineHeight:21,onClick:L},{default:v(()=>[g("Создать урок")]),_:1}),p(f,{style:{"margin-left":"20px"},width:130,padding:15,lineHeight:21,isCourses:!0,onClick:k},{default:v(()=>[g("Отменить")]),_:1})])])]))}};export{J as default};
