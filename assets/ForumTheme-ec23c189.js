import{T as B}from"./ThePagination-233397cf.js";import{T as C}from"./ThemeIcon-73b1e471.js";import{_ as I,a6 as b,r as _,m as D,l as N,L as P,a as u,c,u as m,b as e,t as r,F as S,d as V,q as E,s as p,h as $,i as L,a1 as M,y as O,j as h,e as f,w as j,f as g,p as q,k as R}from"./index-d52695da.js";import{s as U}from"./StateForum-90d2a4c8.js";const n=l=>(q("data-v-d1c0244f"),l=l(),R(),l),X={class:"forum"},z={key:0,class:"container"},A=n(()=>e("span",null,"/",-1)),G=n(()=>e("p",null,"Список разделов форума",-1)),H=n(()=>e("span",null,"/",-1)),J=n(()=>e("p",null,"Список тем форума",-1)),K={class:"forum__title"},Q=n(()=>e("h4",null,"Форум",-1)),W=n(()=>e("div",{class:"forum__el"},[e("p",null,"Название тем"),e("p",null,"Обновления"),e("p",null,"Темы"),e("p",null,"Создана")],-1)),Y={class:"forum__theme",style:{height:"432px","border-bottom":"1px solid #ccc"}},Z={class:"forum__theme-item"},ee={style:{transform:"translateX(37px)"}},te={__name:"ForumTheme",setup(l){const v=b(),t=U(),i=_(1);function F(){let o=(i.value-1)*9,s=o+9;return t.forum[t.idForum].theme.slice(o,s)}const d=D(()=>Math.ceil(t.forum[t.idForum].theme.length/9));function k(o){i.value=o}async function x(){if(t.forum.length>0)return;(await $(L(h,"forum"))).forEach(s=>{t.forum.push({idx:s.id,id:s.data().id,router:s.data().router,theme:s.data().theme,timed:s.data().timed,title:s.data().title})})}N(()=>{x().then(()=>{t.forum.forEach(o=>{o.router==v.params.id&&(t.idForum=o.id)})})});const y=_([{id:2,title:"Влад учит новые слова",inOut:"Владислав Андрейко",timed:"28.08.2023",out:"Николай Николаевич",messangers:[],created:"29.08.2023",router:"theme-lessons-word"}]);async function T(){t.forum[t.idForum].theme.push(y.value[0]);const o={theme:t.forum[t.idForum].theme};await M(O(h,"forum",t.forum[t.idForum].idx),o)}return(o,s)=>{const w=P("router-link");return u(),c("div",X,[m(t).idForum!==null?(u(),c("div",z,[e("div",{class:"forum__links"},[e("p",{onClick:T},"Главная"),A,G,H,J]),e("div",K,[Q,e("h5",null,r(m(t).forum[m(t).idForum].title),1)]),W,e("div",Y,[(u(!0),c(S,null,V(F(),a=>(u(),c("div",Z,[f(w,{to:{path:`/forum/${o.$route.params.id}/${a.router}`}},{default:j(()=>[f(C),e("p",null,[g(r(a.title)+" ",1),e("span",null,"от "+r(a.inOut),1)]),e("p",ee,[g(r(a.timed)+" ",1),e("span",null,"от "+r(a.out),1)]),e("p",null,r(a.messangers.length),1),e("p",null,r(a.timed),1)]),_:2},1032,["to"])]))),256))]),d.value>1?(u(),E(B,{key:0,"total-pages":d.value,"current-page":i.value,onChangePage:k},null,8,["total-pages","current-page"])):p("",!0)])):p("",!0)])}}},ne=I(te,[["__scopeId","data-v-d1c0244f"]]);export{ne as default};
