import{_ as b,r as v,x as S,l as $,ad as L,o as d,c as _,y as E,z as A,b as a,e as l,F as B,g as D,t as I,n as U,p as O,a as N,G as V,v as z,w as x,k as y,m as g,q as C,K as F,B as M,s as f,j as T}from"./index-1442cadf.js";import{B as H,P}from"./PlanCourse-c72674fb.js";import{s as k,A as j}from"./StateCourse-9f16d0be.js";import"./TheSelect-9959050d.js";import"./AddIcon-89bdbf40.js";const q={class:"select__teachers"},G=["onClick"],K=["src"],R={__name:"Select",emits:["activeElement","click"],setup(r,{emit:i}){const o=k(),c=v(""),u=S(()=>{const n=c.value.toLowerCase();return o.teacher.filter(s=>s.nameUser.toLowerCase().includes(n))});function h(n,s){c.value=n,t(!1),i("activeElement",s)}const m=v(!1);function t(n){m.value=n}$(()=>{document.addEventListener("click",p)}),L(()=>{document.removeEventListener("click",p)});function p(n){n.target.closest(".select")||t(!1)}return(n,s)=>(d(),_("div",{class:U(["select",{active:m.value}])},[E(a("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>c.value=e),onFocus:s[1]||(s[1]=e=>t(!0))},null,544),[[A,c.value]]),l(j),a("div",q,[(d(!0),_(B,null,D(u.value,(e,le)=>(d(),_("div",{class:"item",onClick:re=>h(e.nameUser,e.id)},[a("img",{src:e.photo,alt:""},null,8,K),a("p",null,I(e.nameUser),1)],8,G))),256))])],2))}},J=b(R,[["__scopeId","data-v-62c02b01"]]);const w=r=>(O("data-v-4fe7ee51"),r=r(),N(),r),Q={class:"teacher"},W={class:"teacher__select"},X=w(()=>a("p",null,"Назначить учителя",-1)),Y=w(()=>a("div",{class:"teacher__students"},[a("p",null,"Тут будет отображаться список учеников, которые оплатили и зарегистрировались на курс.")],-1)),Z={__name:"TeacherCreate",emits:["activeTeacher","click"],setup(r,{emit:i}){function o(c){i("activeTeacher",c)}return(c,u)=>(d(),_("div",Q,[a("div",W,[X,l(J,{onActiveElement:o})]),Y]))}},ee=b(Z,[["__scopeId","data-v-4fe7ee51"]]);const te={class:"course-create"},ae={class:"container"},se=a("div",{class:"course-create__links"},[a("p",null,"Главная"),a("span",null,"/"),a("p",null,"Создание курса")],-1),ne=a("div",{class:"course-create__title"},[a("h4",null,"Создание курса")],-1),ce={class:"course-create__wrapper",style:{"margin-top":"25px"}},oe={class:"course-create__btn",style:{display:"flex","padding-bottom":"50px"}},pe={__name:"CourseCreate",setup(r){const i=V(),o=k();async function c(){(await g(C(f,"publishedTeachers"))).forEach(e=>{o.teacher.push({id:o.teacher.length,nameUser:e.data().nameUser,photo:e.data().photo})})}const u=v([]);async function h(){(await g(C(f,"course"))).forEach(e=>{u.value.push({idx:e.data().idx,id:e.data().id,about:e.data().about,date:e.data().date,lvl:e.data().lvl,maxStudent:e.data().maxStudent,name:e.data().name,plan:e.data().plan,pricelessons:e.data().pricelessons,student:e.data().student,teachers:e.data().teachers,time:e.data().time,timeLessons:e.data().timeLessons,timeOut:e.data().timeOut,timeTest:e.data().timeTest,years:e.data().years})})}z(()=>{c(),o.plan=[{type:0,title:"",time:"",date:""}],h()});function m(s){t.value.teachers=s}const t=v({name:"",date:"",time:0,timeLessons:"",timeOut:"",timeTest:"",pricelessons:"",lvl:0,years:0,maxStudent:"",about:"",teachers:0});function p(){i.push("/")}async function n(){const s="course-"+Date.now(),e={id:s,idx:u.value.length,name:t.value.name,date:t.value.date,time:t.value.time,timeLessons:t.value.timeLessons,timeOut:t.value.timeOut,timeTest:t.value.timeTest,pricelessons:t.value.pricelessons,lvl:t.value.lvl,years:t.value.years,maxStudent:t.value.maxStudent,about:t.value.about,teachers:t.value.teachers,student:[],plan:o.plan};await F(M(f,"course",s),e),i.push("/")}return(s,e)=>(d(),_("div",te,[a("div",ae,[se,ne,a("div",ce,[l(H,{data:t.value},null,8,["data"]),l(ee,{onActiveTeacher:m})]),l(P),a("div",oe,[l(y,{width:200,padding:15,lineHeight:21,onClick:n},{default:x(()=>[T("Создать урок")]),_:1}),l(y,{style:{"margin-left":"20px"},width:130,padding:15,lineHeight:21,isCourses:!0,onClick:p},{default:x(()=>[T("Отменить")]),_:1})])])]))}};export{pe as default};
