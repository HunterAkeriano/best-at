import{T as w}from"./ThePagination-0adfca8d.js";import{s as B,T as C}from"./StateForum-063e058d.js";import{_ as I,a5 as D,r as _,v as N,s as P,d as S,o as u,c,u as d,b as e,t as r,F as V,f as E,h as M,g as p,l as O,m as q,a0 as A,A as L,q as h,e as f,w as R,i as g,p as U,a as $}from"./index-08c9f47b.js";const n=l=>(U("data-v-dfb16143"),l=l(),$(),l),j={class:"forum"},z={key:0,class:"container"},G=n(()=>e("span",null,"/",-1)),H=n(()=>e("p",null,"Список разделов форума",-1)),J=n(()=>e("span",null,"/",-1)),K=n(()=>e("p",null,"Список тем форума",-1)),Q={class:"forum__title"},W=n(()=>e("h4",null,"Форум",-1)),X=n(()=>e("div",{class:"forum__el"},[e("p",null,"Название тем"),e("p",null,"Обновления"),e("p",null,"Темы"),e("p",null,"Создана")],-1)),Y={class:"forum__theme",style:{height:"432px","border-bottom":"1px solid #ccc"}},Z={class:"forum__theme-item"},ee={__name:"ForumTheme",setup(l){const v=D(),t=B(),i=_(1);function F(){let o=(i.value-1)*9,s=o+9;return t.forum[t.idForum].theme.slice(o,s)}const m=N(()=>Math.ceil(t.forum[t.idForum].theme.length/9));function x(o){i.value=o}async function k(){if(t.forum.length>0)return;(await O(q(h,"forum"))).forEach(s=>{t.forum.push({idx:s.id,id:s.data().id,router:s.data().router,theme:s.data().theme,timed:s.data().timed,title:s.data().title})})}P(()=>{k().then(()=>{t.forum.forEach(o=>{o.router==v.params.id&&(t.idForum=o.id)})})});const y=_([{id:2,title:"Влад учит новые слова",inOut:"Владислав Андрейко",timed:"28.08.2023",out:"Николай Николаевич",messangers:[],created:"29.08.2023",router:"theme-lessons-word"}]);async function T(){t.forum[t.idForum].theme.push(y.value[0]);const o={theme:t.forum[t.idForum].theme};await A(L(h,"forum",t.forum[t.idForum].idx),o)}return(o,s)=>{const b=S("router-link");return u(),c("div",j,[d(t).idForum!==null?(u(),c("div",z,[e("div",{class:"forum__links"},[e("p",{onClick:T},"Главная"),G,H,J,K]),e("div",Q,[W,e("h5",null,r(d(t).forum[d(t).idForum].title),1)]),X,e("div",Y,[(u(!0),c(V,null,E(F(),a=>(u(),c("div",Z,[f(b,{to:{path:`/forum/${a.router}`}},{default:R(()=>[f(C),e("p",null,[g(r(a.title)+" ",1),e("span",null,"от "+r(a.inOut),1)]),e("p",null,[g(r(a.timed)+" ",1),e("span",null,"от "+r(a.out),1)]),e("p",null,r(a.messangers.length),1),e("p",null,r(a.timed),1)]),_:2},1032,["to"])]))),256))]),m.value>1?(u(),M(w,{key:0,"total-pages":m.value,"current-page":i.value,onChangePage:x},null,8,["total-pages","current-page"])):p("",!0)])):p("",!0)])}}},ae=I(ee,[["__scopeId","data-v-dfb16143"]]);export{ae as default};
