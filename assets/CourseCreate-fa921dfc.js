import{_ as b,r as v,m as S,o as $,ad as E,a as d,c as _,n as L,v as D,b as a,e as l,F as A,d as I,t as U,E as B,p as O,k as N,D as V,l as F,w as x,g as y,h as g,i as C,J as M,y as z,j as f,f as T}from"./index-adc6fec0.js";import{B as H,P}from"./PlanCourse-1486f742.js";import{s as k,A as j}from"./StateCourse-acb2d4f9.js";import"./TheSelect-0144b9ef.js";import"./AddIcon-46a9642c.js";const J={class:"select__teachers"},R=["onClick"],q=["src"],G={__name:"Select",emits:["activeElement","click"],setup(i,{emit:r}){const o=k(),c=v(""),u=S(()=>{const n=c.value.toLowerCase();return o.teacher.filter(s=>s.nameUser.toLowerCase().includes(n))});function h(n,s){c.value=n,t(!1),r("activeElement",s)}const m=v(!1);function t(n){m.value=n}$(()=>{document.addEventListener("click",p)}),E(()=>{document.removeEventListener("click",p)});function p(n){n.target.closest(".select")||t(!1)}return(n,s)=>(d(),_("div",{class:B(["select",{active:m.value}])},[L(a("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>c.value=e),onFocus:s[1]||(s[1]=e=>t(!0))},null,544),[[D,c.value]]),l(j),a("div",J,[(d(!0),_(A,null,I(u.value,(e,le)=>(d(),_("div",{class:"item",onClick:ie=>h(e.nameUser,e.id)},[a("img",{src:e.photo,alt:""},null,8,q),a("p",null,U(e.nameUser),1)],8,R))),256))])],2))}},K=b(G,[["__scopeId","data-v-62c02b01"]]);const w=i=>(O("data-v-4fe7ee51"),i=i(),N(),i),Q={class:"teacher"},W={class:"teacher__select"},X=w(()=>a("p",null,"Назначить учителя",-1)),Y=w(()=>a("div",{class:"teacher__students"},[a("p",null,"Тут будет отображаться список учеников, которые оплатили и зарегистрировались на курс.")],-1)),Z={__name:"TeacherCreate",emits:["activeTeacher","click"],setup(i,{emit:r}){function o(c){r("activeTeacher",c)}return(c,u)=>(d(),_("div",Q,[a("div",W,[X,l(K,{onActiveElement:o})]),Y]))}},ee=b(Z,[["__scopeId","data-v-4fe7ee51"]]);const te={class:"course-create"},ae={class:"container"},se=a("div",{class:"course-create__links"},[a("p",null,"Главная"),a("span",null,"/"),a("p",null,"Создание курса")],-1),ne=a("div",{class:"course-create__title"},[a("h4",null,"Создание курса")],-1),ce={class:"course-create__wrapper",style:{"margin-top":"25px"}},oe={class:"course-create__btn",style:{display:"flex","padding-bottom":"50px"}},pe={__name:"CourseCreate",setup(i){const r=V(),o=k();async function c(){(await g(C(f,"publishedTeachers"))).forEach(e=>{o.teacher.push({id:o.teacher.length,nameUser:e.data().nameUser,photo:e.data().photo})})}const u=v([]);async function h(){(await g(C(f,"course"))).forEach(e=>{u.value.push({idx:e.data().idx,id:e.data().id,about:e.data().about,date:e.data().date,lvl:e.data().lvl,maxStudent:e.data().maxStudent,name:e.data().name,plan:e.data().plan,pricelessons:e.data().pricelessons,student:e.data().student,teachers:e.data().teachers,time:e.data().time,timeLessons:e.data().timeLessons,timeOut:e.data().timeOut,timeTest:e.data().timeTest,years:e.data().years})})}F(()=>{c(),o.plan=[{type:0,title:"",time:"",date:""}],h()});function m(s){t.value.teachers=s}const t=v({name:"",date:"",time:0,timeLessons:"",timeOut:"",timeTest:"",pricelessons:"",lvl:0,years:0,maxStudent:"",about:"",teachers:0});function p(){r.push("/")}async function n(){const s="course-"+Date.now(),e={id:s,idx:u.value.length,name:t.value.name,date:t.value.date,time:t.value.time,timeLessons:t.value.timeLessons,timeOut:t.value.timeOut,timeTest:t.value.timeTest,pricelessons:t.value.pricelessons,lvl:t.value.lvl,years:t.value.years,maxStudent:t.value.maxStudent,about:t.value.about,teachers:t.value.teachers,student:[],plan:o.plan};await M(z(f,"course",s),e),r.push("/")}return(s,e)=>(d(),_("div",te,[a("div",ae,[se,ne,a("div",ce,[l(H,{data:t.value},null,8,["data"]),l(ee,{onActiveTeacher:m})]),l(P),a("div",oe,[l(y,{width:200,padding:15,lineHeight:21,onClick:n},{default:x(()=>[T("Создать урок")]),_:1}),l(y,{style:{"margin-left":"20px"},width:130,padding:15,lineHeight:21,isCourses:!0,onClick:p},{default:x(()=>[T("Отменить")]),_:1})])])]))}};export{pe as default};
