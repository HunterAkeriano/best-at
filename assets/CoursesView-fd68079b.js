import{_ as q,o as m,c as $,b as e,t as u,u as o,f as _,e as c,w as U,j as T,k as Y,p as j,a as D,r as d,v as ee,x as te,y as k,z as B,F as se,g as ae,i as P,h as A,m as E,q as F,A as le,s as M}from"./index-1442cadf.js";import{T as ne}from"./ThePagination-3b0a6989.js";import{_ as v}from"./TheSelect-9959050d.js";const g=a=>(j("data-v-97114185"),a=a(),D(),a),ie={class:"course"},oe={class:"course__date"},ce={class:"course__title"},_e={class:"course__teacher"},re=["src"],ue=g(()=>e("div",{class:"course__teacher-position"},"преподаватель",-1)),de={class:"course__teacher-name"},ve={class:"course__tags"},he={class:"course__tags-item course__tags-item--mini course__tags-item--time"},me={class:"course__tags-item course__tags-item--mini course__tags-item--lvl"},pe={class:"course__tags-item course__tags-item--mini course__tags-item--years"},ge={class:"course__first-row"},fe={style:{"margin-right":"40px"}},ye=g(()=>e("div",{class:"course__label"},"Зарегистрировались",-1)),xe={class:"course__value"},be=g(()=>e("div",{class:"course__label"},"Максимум:",-1)),$e={class:"course__value"},Ie=g(()=>e("hr",null,null,-1)),we={class:"course__row"},Te=g(()=>e("p",null,"Стоимость курса",-1)),Ve={__name:"CourseCard",props:{card:{type:Object,default:()=>{}},teacher:{type:Object,default:()=>{}}},setup(a){return(r,f)=>(m(),$("div",ie,[e("div",oe,u(a.card.date),1),e("div",ce,u(a.card.name),1),e("div",_e,[e("img",{class:"course__teacher-pfp",src:a.teacher.photo,alt:"",width:"50",height:"50"},null,8,re),e("div",null,[ue,e("div",de,u(a.teacher.name),1)])]),e("div",ve,[e("div",he,u(o(_).timeLessons[a.card.time].title),1),e("div",me,u(o(_).typed[a.card.lvl].title),1),e("div",pe,u(o(_).years[a.card.years].title),1)]),e("div",ge,[e("div",fe,[ye,e("div",xe,u(a.card.student.length)+" человек",1)]),e("div",null,[be,e("div",$e,u(a.card.maxStudent)+" человек",1)])]),Ie,e("div",we,[Te,e("span",null,u(a.card.pricelessons)+" $",1)]),c(Y,{width:380,padding:16,"uppercase-text":""},{default:U(()=>[T(" Забронировать ")]),_:1})]))}},Ce=q(Ve,[["__scopeId","data-v-97114185"]]);const i=a=>(j("data-v-1251d083"),a=a(),D(),a),Se={class:"main page"},Ne={class:"container"},ke=i(()=>e("div",{class:"page__navigation"},[e("a",{class:"page__navigation-link"}," Главная "),e("p",{class:"page__navigation-current"},[e("span",null,"/"),T(" Список курсов ")])],-1)),Be=i(()=>e("h1",{class:"page__title"},"Список курсов",-1)),Pe={class:"page__content"},Ae={class:"page__content-filter"},Ee=i(()=>e("div",{class:"filter__title"},"Фильтры",-1)),Fe=i(()=>e("div",{class:"filter__label"},"Язык преподавания",-1)),Me=i(()=>e("div",{class:"filter__label"},"Время преподавания",-1)),qe=i(()=>e("div",{class:"filter__label"},"Страна преподавателя",-1)),Ue=i(()=>e("div",{class:"filter__label"},"Язык общения",-1)),Ye={class:"filter__range"},je=i(()=>e("div",{class:"filter__label"},"Цена",-1)),De={class:"range"},Le={class:"range__input"},Oe={class:"range__input-one"},ze=i(()=>e("span",null,"-",-1)),Ge={class:"range__input-two"},He=["max"],Re={class:"range__slider"},Je=i(()=>e("div",{class:"filter__label"},"Пол",-1)),Ke=i(()=>e("div",{class:"filter__label"},"Подготовка к тестам",-1)),Qe=i(()=>e("div",{class:"filter__label"},"Аспекты обучения",-1)),We=i(()=>e("div",{class:"filter__label"},"Возраст обучения",-1)),Xe={key:0,class:"page__content-wrapper"},Ze={class:"page__content-courses"},et={__name:"CoursesView",setup(a){const r=d([]),f=d([]);async function L(){(await E(F(M,"publishedTeachers"))).forEach(s=>{f.value.push(s.data())})}async function O(){(await E(F(M,"course"))).forEach(s=>{r.value.push(s.data())})}function z(t){const s=f.value[t].photo,l=f.value[t].nameUser;return{photo:s,name:l}}const n=d([0,1e6]),V=d(0),h=d(1e6);function G(){let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,l;for(let w=r.value.length-1;w>=0;w--)l=+r.value[w].pricelessons,l<t&&(t=l),l>s&&(s=l);n.value[0]=V.value=t,n.value[1]=h.value=s}ee(()=>{L(),O().then(()=>{G(),I()})});const y=d(!1),x=d(void 0);function H(t){x.value=t}function R(t){const s=t.target.value.replace(/[^0-9]/g,"");n.value[0]=s!==""?parseInt(s):0,n.value[0]>h.value&&(n.value[0]=h.value)}function J(t){const s=t.target.value.replace(/[^0-9]/g,"");n.value[1]=s!==""?parseInt(s):0,n.value[1]>h.value&&(n.value[1]=h.value)}const b=d(void 0);function K(t){b.value=t}function Q(){return x.value!==void 0?r.value.filter(t=>t.time===x.value):r.value}function C(){return Q().filter(t=>+t.pricelessons>=n.value[0]&&+t.pricelessons<=n.value[1])}function S(){return b.value!==void 0?C().filter(t=>t.years===b.value):C()}const p=d(1),N=te(()=>y.value?Math.ceil(S().length/6):Math.ceil(r.value.length/6));function W(t){p.value=t}function I(){let t=(p.value-1)*6,s=t+6;return y.value?S().slice(t,s):r.value.slice(t,s)}function X(){I(),y.value=!0,p.value=1}function Z(){x.value=void 0,b.value=void 0,y.value=!1,p.value=1}return(t,s)=>(m(),$("div",Se,[e("div",Ne,[ke,Be,e("div",Pe,[e("div",Ae,[Ee,Fe,c(v,{items:o(_).langeuages,style:{"margin-bottom":"15px"}},null,8,["items"]),Me,c(v,{onSetActiveSelect:H,items:o(_).times,style:{"margin-bottom":"15px"}},null,8,["items"]),qe,c(v,{items:o(_).country,style:{"margin-bottom":"15px"}},null,8,["items"]),Ue,c(v,{items:o(_).langeuages,style:{"margin-bottom":"15px"}},null,8,["items"]),e("div",Ye,[je,e("div",De,[e("div",Le,[e("div",Oe,[k(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=l=>n.value[0]=l),onInput:R},null,544),[[B,n.value[0]]])]),ze,e("div",Ge,[k(e("input",{type:"text",max:h.value,"onUpdate:modelValue":s[1]||(s[1]=l=>n.value[1]=l),onInput:J},null,40,He),[[B,n.value[1]]])])]),e("div",Re,[c(o(le),{modelValue:n.value,"onUpdate:modelValue":s[2]||(s[2]=l=>n.value=l),min:V.value,max:h.value,step:100},null,8,["modelValue","min","max"])])])]),Je,c(v,{items:o(_).gender,style:{"margin-bottom":"15px"}},null,8,["items"]),Ke,c(v,{items:o(_).timeLessons,style:{"margin-bottom":"15px"}},null,8,["items"]),Qe,c(v,{items:o(_).asspects,style:{"margin-bottom":"15px"}},null,8,["items"]),We,c(v,{onSetActiveSelect:K,items:o(_).years,style:{"margin-bottom":"15px"}},null,8,["items"]),c(Y,{width:220,padding:16,"uppercase-text":"",class:"filter__button",onClick:X},{default:U(()=>[T(" Применить ")]),_:1}),e("div",{class:"filter__reset",onClick:Z},"Сбросить фильтр")]),I().length>0?(m(),$("div",Xe,[e("div",Ze,[(m(!0),$(se,null,ae(r.value,l=>(m(),P(Ce,{key:l.idx,card:l,teacher:z(l.teachers)},null,8,["card","teacher"]))),128))]),N.value>1?(m(),P(ne,{key:0,"total-pages":N.value,"current-page":p.value,onChangePage:W},null,8,["total-pages","current-page"])):A("",!0)])):A("",!0)])])]))}},lt=q(et,[["__scopeId","data-v-1251d083"]]);export{lt as default};
